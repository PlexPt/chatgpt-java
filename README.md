<h1 style="text-align: center; color: hotpink; -webkit-animation: rainbow 5s infinite; -moz-animation: rainbow 5s infinite; -o-animation: rainbow 5s infinite; animation: rainbow 5s infinite;">ChatGPT Java API</h1>

![stable](https://img.shields.io/badge/stability-stable-brightgreen.svg)
[![Maven Central](https://img.shields.io/maven-central/v/com.github.plexpt/chatgpt)](https://maven-badges.herokuapp.com/maven-central/com.github.plexpt/chatgpt)

[English Doc](https://github.com/PlexPt/chatgpt-java/blob/main/README_en.md).


OpenAI ChatGPT çš„SDKã€‚è§‰å¾—ä¸é”™è¯·å³ä¸Šè§’Star

æ„Ÿè°¢ [revChatGPT](https://github.com/acheong08/ChatGPT).



#### é¡¹ç›®åˆä½œæ´½è°ˆè¯·è”ç³»å¾®ä¿¡ plexptï¼ˆåœ¨å¾®ä¿¡é‡Œè‡ªè¡Œæœç´¢å¹¶æ·»åŠ å¥½å‹ï¼Œè¯·æ³¨æ˜æ¥æ„ï¼Œå¦‚æœ‰å…³äºä»“åº“é—®é¢˜éœ€è®¨è®ºè¯·å‚è€ƒä¸‹æ–‡å…¥ç¾¤è®¨è®ºï¼Œä¸è¦åŠ æ­¤å¾®ä¿¡ï¼‰ã€‚

### QQç¾¤ï¼š645132635

### è´­ä¹°**ChatGPT**æˆå“ç‹¬äº«å¸å·ï¼š[è´­ä¹°](https://fk.fq.mk/?code=YT0xJmI9Mg%3D%3D)

# é—®é¢˜è¡¨

[å…±çº¦67ä¸‡ä¸ªé—®é¢˜ï¼Œæ¬¢è¿æ‹¿å»ç‚¼ä¸¹](https://github.com/PlexPt/awesome-chatgpt-prompts-zh/blob/main/question/README.md)



ç‚¹å‡»ğŸ‘‡ğŸ»ä¼ é€é“¾æ¥ï¼Œè´­ä¹°äº‘æœåŠ¡å™¨ç‚¼ä¸¹ï¼š

- [**é˜¿é‡Œäº‘æœåŠ¡å™¨**](https://reurl.cc/NqQXyx)
- [**ã€è…¾è®¯äº‘ã€‘äº‘æœåŠ¡å™¨ï¼Œä½è‡³4.2å…ƒ/æœˆ**](https://url.cn/B7m0OYnG)

# åŠŸèƒ½ç‰¹æ€§

|    åŠŸèƒ½     |   ç‰¹æ€§   |
| :---------: | :------: |
|   GPT 3.5   |   æ”¯æŒ   |
|   GPT 4.0   |   æ”¯æŒ   |
| GPT 4.0-32k |   æ”¯æŒ   |
|  æµå¼å¯¹è¯   |   æ”¯æŒ   |
| é˜»å¡å¼å¯¹è¯  |   æ”¯æŒ   |
|    å‰ç«¯     |    æ—     |
|   ä¸Šä¸‹æ–‡    |   æ”¯æŒ   |
|  è®¡ç®—Token  | å³å°†æ”¯æŒ |
|  å¤šKEYè½®è¯¢  |   æ”¯æŒ   |
|    ä»£ç†     |   æ”¯æŒ   |
|  åå‘ä»£ç†   |   æ”¯æŒ   |



# PROç‰ˆ

å¦‚éœ€ä½¿ç”¨ï¼Œè¯·è´­ä¹°ã€‚

|          | å¼€æºå…è´¹ç‰ˆ |                            PROç‰ˆ                             |                    PRO MAXç‰ˆ                    |
| :------: | :--------: | :----------------------------------------------------------: | :---------------------------------------------: |
|   ä»·æ ¼   |  å¼€æºå…è´¹  |                             299                              |                       399                       |
|   ç®€ä»‹   |            |                     å¼€æºç‰ˆ+å‰ç«¯+1å¯¹1æŒ‡å¯¼                     |            ç½‘é¡µé€†å‘ç‰ˆ+1å¯¹1æŒ‡å¯¼             |
|   åœ°å€   |   æœ¬ä»“åº“   | [è´­ä¹°](https://fk.fq.mk/?code=YT0yJmI9Nw%3D%3D)  [æ¼”ç¤ºç«™](https://javachat.plexpt.com) | [è´­ä¹°](https://fk.fq.mk/?code=YT0yJmI9OA%3D%3D) |
| GPT 4.0  |    æ”¯æŒ    |                             æ”¯æŒ                             |                      æ”¯æŒ                       |
|   ä¼˜åŠ¿   |    å…è´¹    |                   æœ‰å‰ç«¯ï¼Œç¨³å®šï¼Œ+ä¸“ä¸šæŒ‡å¯¼                    |             æ»¡è¡€ç½‘é¡µé€†å‘ç‰ˆ+ä¸“ä¸šæŒ‡å¯¼             |
| 1å¯¹1æŒ‡å¯¼ |     æ—      |                              æœ‰                              |                       æœ‰                        |
| ç™»å½•æ–¹å¼ |   APIKEY   |                            APIKEY                            |             sessionTokenã€é‚®ç®±å¯†ç               |
| ä½¿ç”¨æ–¹å¼ |  Java API  |                       Java API + åœ¨çº¿                        |                    Java API                     |
|   å‰ç«¯   |     æ—      |                      æœ‰ï¼ˆHTML5 + SSEï¼‰                       |                       æ—                         |



![image](https://user-images.githubusercontent.com/15922823/206353660-47d99158-a664-4ade-b2f1-e2cc8ac68b74.png)

![image](https://user-images.githubusercontent.com/15922823/206615422-23c5e587-d29a-4f04-8d0d-f8dd7c19da37.png)



## ä½¿ç”¨æŒ‡å—

maven
```
<dependency>
    <groupId>com.github.plexpt</groupId>
    <artifactId>chatgpt</artifactId>
    <version>4.0.1</version>
</dependency>
```

gradle
```
implementation group: 'com.github.plexpt', name: 'chatgpt', version: '4.0.1'
```



### æœ€ç®€ä½¿ç”¨

```java
      //å›½å†…éœ€è¦ä»£ç†
      Proxy proxy = Proxys.http("127.0.0.1", 1080);

      ChatGPT chatGPT = ChatGPT.builder()
                .apiKey("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")
                .proxy(proxy)
                .apiHost("https://api.openai.com/") //åå‘ä»£ç†åœ°å€
                .build()
                .init();
                
        String res = chatGPT.chat("å†™ä¸€æ®µä¸ƒè¨€ç»å¥è¯—ï¼Œé¢˜ç›®æ˜¯ï¼šç«é”…ï¼");
        System.out.println(res);

```


### è¿›é˜¶ä½¿ç”¨

```java
      //å›½å†…éœ€è¦ä»£ç† å›½å¤–ä¸éœ€è¦
      Proxy proxy = Proxys.http("127.0.0.1", 1080);

      ChatGPT chatGPT = ChatGPT.builder()
                .apiKey("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")
                .proxy(proxy)
                .timeout(900)
                .apiHost("https://api.openai.com/") //åå‘ä»£ç†åœ°å€
                .build()
                .init();
                
        Message message = Message.of("å†™ä¸€æ®µä¸ƒè¨€ç»å¥è¯—ï¼Œé¢˜ç›®æ˜¯ï¼šç«é”…ï¼");

        Message system = Message.ofSystem("ä½ ç°åœ¨æ˜¯ä¸€ä¸ªè¯—äººï¼Œä¸“é—¨å†™ä¸ƒè¨€ç»å¥");
        Message message = Message.of("å†™ä¸€æ®µä¸ƒè¨€ç»å¥è¯—ï¼Œé¢˜ç›®æ˜¯ï¼šç«é”…ï¼");

        ChatCompletion chatCompletion = ChatCompletion.builder()
                .model(ChatCompletion.Model.GPT_3_5_TURBO.getName())
                .messages(Arrays.asList(system, message))
                .maxTokens(3000)
                .temperature(0.9)
                .build();
        ChatCompletionResponse response = chatGPT.chatCompletion(chatCompletion);
        Message res = response.getChoices().get(0).getMessage();
        System.out.println(res);

```

### æµå¼ä½¿ç”¨

```java
      //å›½å†…éœ€è¦ä»£ç† å›½å¤–ä¸éœ€è¦
      Proxy proxy = Proxys.http("127.0.0.1", 1080);

      ChatGPTStream chatGPTStream = ChatGPTStream.builder()
                .timeout(600)
                .apiKey("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")
                .proxy(proxy)
                .apiHost("https://api.openai.com/")
                .build()
                .init();

                
        ConsoleStreamListener listener = new ConsoleStreamListener();
        Message message = Message.of("å†™ä¸€æ®µä¸ƒè¨€ç»å¥è¯—ï¼Œé¢˜ç›®æ˜¯ï¼šç«é”…ï¼");
        ChatCompletion chatCompletion = ChatCompletion.builder()
                .messages(Arrays.asList(message))
                .build();
        chatGPTStream.streamChatCompletion(chatCompletion, listener);

```

### æµå¼é…åˆSpring SseEmitterä½¿ç”¨

å‚è€ƒ [SseStreamListener](src/main/java/com/plexpt/chatgpt/listener/SseStreamListener.java)

```java
  

    @GetMapping("/chat/sse")
    @CrossOrigin
    public SseEmitter sseEmitter(String prompt) {
       //å›½å†…éœ€è¦ä»£ç† å›½å¤–ä¸éœ€è¦
       Proxy proxy = Proxys.http("127.0.0.1", 1080);

       ChatGPTStream chatGPTStream = ChatGPTStream.builder()
                .timeout(600)
                .apiKey("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")
                .proxy(proxy)
                .apiHost("https://api.openai.com/")
                .build()
                .init();
        
        SseEmitter sseEmitter = new SseEmitter(-1L);

        SseStreamListener listener = new SseStreamListener(sseEmitter);
        Message message = Message.of(prompt);

        listener.setOnComplate(msg -> {
            //å›ç­”å®Œæˆï¼Œå¯ä»¥åšä¸€äº›äº‹æƒ…
        });
        chatGPTStream.streamChatCompletion(Arrays.asList(message), listener);


        return sseEmitter;
    }

```



## å¤šKEYè‡ªåŠ¨è½®è¯¢

åªéœ€æ›¿æ¢chatGPTæ„é€ éƒ¨åˆ†

```
chatGPT = ChatGPT.builder()
        .apiKeyList(
               // ä»æ•°æ®åº“æˆ–å…¶ä»–åœ°æ–¹å–å‡ºå¤šä¸ªKEY
                Arrays.asList("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",
                        "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",
                        "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",
                        "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",
                        ))
        .timeout(900)
        .proxy(proxy)
        .apiHost("https://api.openai.com/") //ä»£ç†åœ°å€
        .build()
        .init();
```

## ä¸Šä¸‹æ–‡

å‚è€ƒ  [ChatContextHolder.java](src\main\java\com\plexpt\chatgpt\util\ChatContextHolder.java) 



# å¸¸è§é—®é¢˜

|                              é—®                              |                              ç­”                              |
| :----------------------------------------------------------: | :----------------------------------------------------------: |
|                         KEYä»å“ªæ¥ï¼Ÿ                          | æ‰‹åŠ¨æ³¨å†Œç”Ÿæˆï¼šai.com(éœ€è¦æµ·å¤–æ‰‹æœºå·)ã€æˆ–è€…æˆå“ç‹¬äº«å¸å·ï¼š[è´­ä¹°](https://fk.fq.mk/?code=YT0xJmI9Mg%3D%3D) |
|                        å“ªäº›åœ°åŒºä¸èƒ½ç”¨                        | **ä»¥ä¸‹å›½å®¶IPä¸æ”¯æŒä½¿ç”¨ï¼šä¸­å›½(åŒ…å«æ¸¯æ¾³å°) ä¿„ç½—æ–¯ ä¹Œå…‹å…° é˜¿å¯Œæ±— ç™½ä¿„ç½—æ–¯ å§”å†…ç‘æ‹‰ ä¼Šæœ— åŸƒåŠ!!** |
|                         æœ‰å°å·é£é™©å—                         |              å……å€¼çš„æ²¡æœ‰ã€‚ä½ å…è´¹ç™½å«–ä¸å°ä½ å°è°ã€‚              |
|                  æˆ‘æ˜¯å°Šè´µçš„Plusä¼šå‘˜ï¼Œèƒ½ç”¨å—                  |             èƒ½ç”¨ï¼Œç…§å°ä¸è¯¯ã€‚PLUSè°ƒç”¨APIæ²¡å•¥åŒºåˆ«              |
|                        GPT4.0 æ€ä¹ˆç”¨                         |          ç”³è¯· https://openai.com/waitlist/gpt-4-api          |
|                  api.openai.com pingä¸é€šï¼Ÿ                   |                   ç¦pingï¼Œç”¨curlæµ‹è¯•è¿é€šæ€§                   |
|                          æ˜¾ç¤ºè¶…æ—¶ï¼Ÿ                          |                        IPä¸å¥½ï¼Œæ¢ä¸ªIP                        |
| æ˜¾ç¤º`Your access was terminated due to violation of our policies`... |                       ä½ å·æ²¡äº†ï¼Œä¸‹ä¸€ä¸ª                       |
| æ˜¾ç¤º`That model is currently overloaded with other requests. You can retry your request` |                   æ¨¡å‹è¿‡è½½ï¼Œå®˜æ–¹ç‚¸äº†ï¼Œé‡è¯•                   |
|                      ç”Ÿæˆçš„å›¾ç‰‡ä¸èƒ½ç”¨ï¼Ÿ                      |                   å›¾ç‰‡æ˜¯å®ƒçç¼–çš„ï¼Œæ´—æ´—ç¡å§                   |
|                          å¦‚ä½•å……å€¼ï¼Ÿ                          |                   ç”¨å›½å¤–ä¿¡ç”¨å¡ï¼Œå›½å†…çš„ä¸è¡Œ                   |
|                    æ²¡æœ‰å›½å¤–ä¿¡ç”¨å¡æ€ä¹ˆåŠï¼Ÿ                    |         ç”¨è¿™ä¸ª, æ‰«ç å…è´¹å¼€å¡å¹¶å……å€¼![](pic/depay.jpg)         |
|                         è¿”å›http 401                         |                     API å¯†é’¥å†™é”™äº†/æ²¡å†™                      |
|                         è¿”å›http 429                         |            è¯·æ±‚è¶…é€Ÿäº†ï¼Œæˆ–è€…å®˜æ–¹è¶…è½½äº†ã€‚å……é’±å¯è§£å†³            |
|                         è¿”å›http 500                         |                          æœåŠ¡å™¨ç‚¸äº†                          |
|                                                              |                                                              |

---





### æ³¨å†Œæ•™ç¨‹

https://juejin.cn/post/7173447848292253704

https://mirror.xyz/boxchen.eth/9O9CSqyKDj4BKUIil7NC1Sa1LJM-3hsPqaeW_QjfFBc

### æ§åˆ¶å°ç›´æ¥ä½¿ç”¨æµ‹è¯•
#### å¦å¤–è¯·çœ‹çœ‹æˆ‘çš„å¦ä¸€ä¸ªé¡¹ç›® [ChatGPTä¸­æ–‡ä½¿ç”¨æŒ‡å—](https://github.com/PlexPt/awesome-chatgpt-prompts-zh)

# äº‘æœåŠ¡å™¨

ç‚¹å‡»ğŸ‘‡ğŸ»ä¼ é€é“¾æ¥ï¼Œè´­ä¹°äº‘æœåŠ¡å™¨ï¼š

- [**é˜¿é‡Œäº‘æœåŠ¡å™¨**](https://reurl.cc/NqQXyx)
- [**ã€è…¾è®¯äº‘ã€‘äº‘æœåŠ¡å™¨ç­‰çˆ†å“æŠ¢å…ˆè´­ï¼Œä½è‡³4.2å…ƒ/æœˆ**](https://url.cn/B7m0OYnG)



# Star History

[![Star History Chart](https://api.star-history.com/svg?repos=PlexPt/chatgpt-java&type=Date)](https://star-history.com/#PlexPt/chatgpt-java&Date)
